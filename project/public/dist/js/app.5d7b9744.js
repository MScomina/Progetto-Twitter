(function(){var e={6700:function(e,t,s){var n={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function a(e){var t=r(e);return s(t)}function r(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=6700},4159:function(e,t,s){"use strict";var n=s(9242),a=s(2483),r=s(65),o=s(3396);const i={class:"app",id:"app"};function l(e,t,s,n,a,r){const l=(0,o.up)("navbar");return(0,o.wg)(),(0,o.iD)("div",i,[((0,o.wg)(),(0,o.j4)((0,o.LL)(r.currentView),{class:"view"})),(0,o.Wm)(l)])}const u=e=>((0,o.dD)("data-v-54331008"),e=e(),(0,o.Cn)(),e),c={id:"navbar",class:"container"},d={class:"navbar"},m={class:"nav-left"},h={class:"nav-center"},p=u((()=>(0,o._)("input",{type:"text",id:"search",class:"search-input",placeholder:"Search user..."},null,-1))),f={class:"nav-right"};function g(e,t,s,a,r,i){const l=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("nav",d,[(0,o._)("div",m,[(0,o.Wm)(l,{to:"/",class:"nav-button"},{default:(0,o.w5)((()=>[(0,o.Uk)("Home")])),_:1})]),(0,o._)("div",h,[(0,o._)("form",{onSubmit:t[0]||(t[0]=(0,n.iM)(((...e)=>i.search&&i.search(...e)),["prevent"]))},[p,(0,o.Wm)(l,{to:"/search",class:"nav-button search-button"},{default:(0,o.w5)((()=>[(0,o.Uk)("Search")])),_:1})],32)]),(0,o._)("div",f,[this.isAuthenticated?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Wm)(l,{to:"/write",class:"nav-button"},{default:(0,o.w5)((()=>[(0,o.Uk)("Post")])),_:1}),(0,o.Wm)(l,{to:"/follows",class:"nav-button"},{default:(0,o.w5)((()=>[(0,o.Uk)("Follows")])),_:1})],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(l,{to:"/login",class:"nav-button"},{default:(0,o.w5)((()=>[(0,o.Uk)("Login")])),_:1}),(0,o.Wm)(l,{to:"/register",class:"nav-button"},{default:(0,o.w5)((()=>[(0,o.Uk)("Register")])),_:1})],64))])])])}var j={name:"Navbar",computed:{isAuthenticated(){return this.$store.state.isAuthenticated}},methods:{search(){console.log(`Searching for ${this.searchTerm}`)}}},v=s(89);const w=(0,v.Z)(j,[["render",g],["__scopeId","data-v-54331008"]]);var b=w;function k(e,t,s,n,a,r){return null}var y={data(){}};const x=(0,v.Z)(y,[["render",k]]);var _=x;const T={id:"Home",class:"Home"},C={key:1},S={key:0},z={key:1};function O(e,t,s,n,a,r){const i=(0,o.up)("message"),l=(0,o.up)("post");return(0,o.wg)(),(0,o.iD)("div",T,[r.isAuthenticated?((0,o.wg)(),(0,o.iD)("div",C,[r.feedsExist?((0,o.wg)(),(0,o.iD)("div",z,[(0,o.Wm)(i,{title:a.titleFeed,class:"feed"},null,8,["title"]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.feeds,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.messageId},[(0,o.Wm)(l,{messageId:e.messageId,author:e.author,message:e.message,date:e.createdAt,nOfLikes:e.numberOfLikes,likedBefore:e.liked},null,8,["messageId","author","message","date","nOfLikes","likedBefore"])])))),128))])):((0,o.wg)(),(0,o.iD)("div",S,[(0,o.Wm)(i,{title:a.titleNoFeed,paragraphs:[a.paragraphsNoFeed]},null,8,["title","paragraphs"])]))])):((0,o.wg)(),(0,o.j4)(i,{key:0,title:a.titleUnauth,paragraphs:a.paragraphsUnauth},null,8,["title","paragraphs"]))])}var D=s(7139);const U={class:"title"},F=["textContent"],M={class:"text"},P=["textContent"];function W(e,t,s,n,a,r){const i=(0,o.up)("container");return(0,o.wg)(),(0,o.j4)(i,null,{default:(0,o.w5)((()=>[(0,o._)("div",U,[s.title?((0,o.wg)(),(0,o.iD)("h1",{key:0,textContent:(0,D.zw)(s.title)},null,8,F)):(0,o.kq)("",!0)]),(0,o._)("div",M,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.paragraphs,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t,textContent:(0,D.zw)(e)},null,8,P)))),128))])])),_:1})}const E={id:"container",class:"container"},L={id:"content",class:"content"};function I(e,t){return(0,o.wg)(),(0,o.iD)("div",E,[(0,o._)("div",L,[(0,o.WI)(e.$slots,"default",{},void 0,!0)])])}const N={},A=(0,v.Z)(N,[["render",I],["__scopeId","data-v-62aa654d"]]);var Z=A,V={components:{Container:Z},name:"message",props:{title:{type:String,default:""},paragraphs:{type:Array,default:[]}}};const H=(0,v.Z)(V,[["render",W],["__scopeId","data-v-5bdf9b45"]]);var Y=H;const $=e=>((0,o.dD)("data-v-47b09df1"),e=e(),(0,o.Cn)(),e),q={class:"author"},B={class:"username"},R=["textContent"],K={class:"info"},J=["textContent"],G=$((()=>(0,o._)("div",{class:"break"},null,-1))),Q={class:"message"},X=["textContent"],ee=$((()=>(0,o._)("div",{class:"break"},null,-1))),te={class:"bottom"},se={class:"time"},ne=["textContent"],ae=$((()=>(0,o._)("div",{class:"break"},null,-1))),re={class:"likes"},oe=["textContent"];function ie(e,t,s,n,a,r){const i=(0,o.up)("font-awesome-icon"),l=(0,o.up)("container");return(0,o.wg)(),(0,o.j4)(l,{class:"container"},{default:(0,o.w5)((()=>[(0,o._)("div",q,[(0,o._)("cite",B,[(0,o._)("span",{class:"span-username",textContent:(0,D.zw)(r.formatUsername),onClick:t[0]||(t[0]=(...e)=>r.userRoute&&r.userRoute(...e))},null,8,R)]),(0,o._)("cite",K,[(0,o._)("span",{class:"span-info",textContent:(0,D.zw)(r.nameAndSurname)},null,8,J)])]),G,(0,o._)("div",Q,[(0,o._)("p",{textContent:(0,D.zw)(s.message)},null,8,X)]),ee,(0,o._)("div",te,[(0,o._)("div",se,[(0,o._)("p",{textContent:(0,D.zw)(r.formattedDate)},null,8,ne)]),ae,(0,o._)("div",re,[(0,o._)("p",{class:"nOfLikes",textContent:(0,D.zw)(r.numberOfLikes)},null,8,oe),(0,o.Wm)(i,{icon:["fas","thumbs-up"],class:(0,D.C_)({liked:r.isLiked}),onClick:r.like},null,8,["class","onClick"])])])])),_:1})}s(7658);var le=s(6797),ue=s.n(le),ce={name:"post",components:{Container:Z},data(){return{liked:!1,likeCooldown:!1}},props:{messageId:{type:String,default:"00000000-0000-0000-0000-0000000000"},author:{type:Object,default:function(){return{username:"Username",name:"Nome",surname:"Cognome"}}},message:{type:String,default:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},date:{type:String,default:"1970-01-01T00:00:00Z"},nOfLikes:{type:Number,default:0},likedBefore:{type:Boolean,default:!1}},computed:{nameAndSurname(){return this.author.name+" "+this.author.surname},formatUsername(){return"@"+this.author.username},numberOfLikes(){return!this.likedBefore&&this.liked?this.nOfLikes+1:this.likedBefore&&this.liked?this.nOfLikes-1:this.nOfLikes},isLiked(){return this.likedBefore&&!this.liked||!this.likedBefore&&this.liked},formattedDate(){return ue()(this.date).format("MMM DD, YYYY HH:mm:ss")}},methods:{async like(){if(this.cooldown||!this.$store.state.isAuthenticated)return;const e="/api/social/like/"+this.messageId,t=this.liked!==this.likedBefore?"DELETE":"POST";fetch(e,{method:t});this.liked=!this.liked,this.cooldown=!0,setTimeout((()=>{this.cooldown=!1}),1e3)},userRoute(){const e="/user/"+this.author.username;this.$router.push({path:e})}}};const de=(0,v.Z)(ce,[["render",ie],["__scopeId","data-v-47b09df1"]]);var me=de,he={data(){return{titleUnauth:"Welcome!",paragraphsUnauth:['This is a social network web page created by Michele Scomina for the course "Programmazione Web".',"You are currently in the home page.","This page has been built using the Vue.js framework.","You are not authenticated as of right now!"],feeds:[],titleNoFeed:"No feeds!",titleFeed:"Feeds:",paragraphsNoFeed:"You currently do not have any feeds! Start following someone to start getting feeds in your homepage!"}},computed:{isAuthenticated(){return this.$store.state.isAuthenticated},feedsExist(){return!(0===this.feeds.length)}},methods:{async retrieveFeed(){const e=await fetch("/api/social/feed");if(e.ok){const t=await e.json();this.feeds=t.messages}}},watch:{"$store.state.isAuthenticated":{immediate:!0,handler(e){e&&this.retrieveFeed()}}},components:{Message:Y,Post:me}};const pe=(0,v.Z)(he,[["render",O],["__scopeId","data-v-c97a94f6"]]);var fe=pe;const ge={id:"Login",class:"Login"};function je(e,t,s,n,a,r){const i=(0,o.up)("form-component"),l=(0,o.up)("message");return(0,o.wg)(),(0,o.iD)("div",ge,[(0,o.Wm)(i,{class:"form",fields:a.fields,onFormSubmitted:r.handleSubmit,buttonText:a.buttonText,titleText:a.titleText},null,8,["fields","onFormSubmitted","buttonText","titleText"]),a.showMessage?((0,o.wg)(),(0,o.j4)(l,{key:0,class:"message",paragraphs:[a.message]},null,8,["paragraphs"])):(0,o.kq)("",!0)])}const ve=["textContent"],we=["type","placeholder","onUpdate:modelValue"],be=["type","placeholder","onUpdate:modelValue"],ke=["textContent"];function ye(e,t,s,a,r,i){const l=(0,o.up)("container");return(0,o.wg)(),(0,o.j4)(l,null,{default:(0,o.w5)((()=>[(0,o._)("form",{onSubmit:t[0]||(t[0]=(0,n.iM)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"])),class:"form"},[(0,o._)("h1",{textContent:(0,D.zw)(s.titleText)},null,8,ve),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.fields,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.name},[e.isParagraph?(0,o.wy)(((0,o.wg)(),(0,o.iD)("textarea",{key:0,type:e.type,placeholder:e.label,"onUpdate:modelValue":t=>r.fieldValues[e.name]=t},null,8,we)),[[n.nr,r.fieldValues[e.name]]]):(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:1,type:e.type,placeholder:e.label,"onUpdate:modelValue":t=>r.fieldValues[e.name]=t},null,8,be)),[[n.YZ,r.fieldValues[e.name]]])])))),128)),(0,o._)("button",{class:"btn",type:"submit",textContent:(0,D.zw)(s.buttonText)},null,8,ke)],32)])),_:1})}var xe={components:{Container:Z},data(){return{fieldValues:{},cooldown:!1}},methods:{submitForm(){this.cooldown||(this.$emit("form-submitted",this.fieldValues),this.cooldown=!0,setTimeout((()=>{this.cooldown=!1}),1e3))}},name:"custom-form",props:{buttonText:{type:String,default:"Submit"},titleText:{type:String,default:"Title"},fields:Array}};const _e=(0,v.Z)(xe,[["render",ye],["__scopeId","data-v-4436d3f2"]]);var Te=_e,Ce={data(){return{fields:[{name:"username",type:"text",label:"Username"},{name:"password",type:"password",label:"Password"}],buttonText:"Log in!",titleText:"Login",showMessage:!1,message:""}},components:{FormComponent:Te,Message:Y},methods:{async handleSubmit(e){this.showMessage=!1;const t=Object.assign({},e);try{if(!t.username||!t.password)return this.showMessage=!0,void(this.message="Error: Please fill all the mandatory fields.");const e=await fetch("/api/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});let n;if(this.showMessage=!0,!e.ok){if(404===e.status)try{if(n=await e.json(),"UsernameNotFound"===n.error)return void(this.message="Error: Could not find that username.")}catch(s){return void(this.message="Error: Could not find the server.")}return n=await e.json(),"IncorrectPasswordError"===n.error?void(this.message="Error: The credentials are not correct!"):void(this.message="Error: Unidentified error.")}n=await e.json(),this.$store.commit("authenticate"),this.$store.commit("setUsername",{username:t.username}),this.$router.push({path:"/"})}catch(n){console.log(n)}}}};const Se=(0,v.Z)(Ce,[["render",je],["__scopeId","data-v-f61963b8"]]);var ze=Se;function Oe(e,t,s,n,a,r){return null}var De={data(){}};const Ue=(0,v.Z)(De,[["render",Oe]]);var Fe=Ue;function Me(e,t,s,n,a,r){return null}var Pe={data(){}};const We=(0,v.Z)(Pe,[["render",Me]]);var Ee=We;const Le={id:"NotFound",class:"NotFound"};function Ie(e,t,s,n,a,r){const i=(0,o.up)("message");return(0,o.wg)(),(0,o.iD)("div",Le,[(0,o.Wm)(i,{title:a.title,paragraphs:a.paragraphs},null,8,["title","paragraphs"])])}var Ne={data(){return{title:"Sorry!",paragraphs:["We couldn't find the page you were looking for.","If you believe this to be an error, contact Michele Scomina."]}},name:"NotFound",components:{Message:Y}};const Ae=(0,v.Z)(Ne,[["render",Ie],["__scopeId","data-v-0d620a56"]]);var Ze=Ae;const Ve={id:"Register",class:"Register"};function He(e,t,s,n,a,r){const i=(0,o.up)("form-component"),l=(0,o.up)("message");return(0,o.wg)(),(0,o.iD)("div",Ve,[(0,o.Wm)(i,{class:"form",fields:a.fields,onFormSubmitted:r.handleSubmit,buttonText:a.buttonText,titleText:a.titleText},null,8,["fields","onFormSubmitted","buttonText","titleText"]),a.showMessage?((0,o.wg)(),(0,o.j4)(l,{key:0,class:"message",paragraphs:[a.message]},null,8,["paragraphs"])):(0,o.kq)("",!0),(0,o.Wm)(l,{class:"message",paragraphs:a.serverMessage},null,8,["paragraphs"])])}var Ye={data(){return{fields:[{name:"username",type:"text",label:"Username (5-20 characters)"},{name:"name",type:"text",label:"Name (2-20 characters)"},{name:"surname",type:"text",label:"Surname (2-20 characters)"},{name:"description",type:"text",label:"Write a short description about yourself... (max 200 characters, optional)",isParagraph:!0},{name:"password",type:"password",label:"Password"}],buttonText:"Register!",titleText:"Register a new user:",showMessage:!1,message:"",serverMessage:["Please note that the name and the surname may only have letters and spaces as inputs.",' Also, the username must be unique and may only be composed by letters, numbers and the following characters: "- _ ."']}},components:{FormComponent:Te,Message:Y},methods:{async handleSubmit(e){this.showMessage=!1;const t=Object.assign({},e);try{if(!t.username||!t.name||!t.surname||!t.password)return this.showMessage=!0,void(this.message="Error: Please fill all the mandatory fields.");t.description||(t.description="");const e=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});let s;if(this.showMessage=!0,!e.ok)return 404===e.status?void(this.message="Error: Could not find the server."):(s=await e.json(),"ValidationError"===s.error?void(this.message="Error: Please make sure your fields respect the given format."):"UsernameAlreadyTaken"===s.error?void(this.message="Error: This username has already been taken!"):"InternalServerError"===s.error?void(this.message="Error: Internal server error."):void(this.message="Error: Unidentified error."));s=await e.json(),this.message=s.message}catch(s){console.log(s)}}}};const $e=(0,v.Z)(Ye,[["render",He],["__scopeId","data-v-d270496c"]]);var qe=$e;const Be={id:"Search",class:"Search"};function Re(e,t,s,n,a,r){const i=(0,o.up)("post");return(0,o.wg)(),(0,o.iD)("div",Be,[(0,o.Wm)(i),(0,o.Wm)(i),(0,o.Wm)(i)])}var Ke={data(){return{data:0}},components:{Post:me}};const Je=(0,v.Z)(Ke,[["render",Re],["__scopeId","data-v-7e75c5c2"]]);var Ge=Je;function Qe(e,t,s,n,a,r){return null}var Xe={data(){}};const et=(0,v.Z)(Xe,[["render",Qe]]);var tt=et;const st=[{path:"/login/",view:ze,title:"Login"},{path:"/write/",view:Ee,title:"New message"},{path:"/register/",view:qe,title:"Register"},{path:"/search/",view:Ge,title:"Search"},{path:"/user/",view:tt,title:"User"},{path:"/message/",view:Fe,title:"Message"},{path:"/follows/",view:_,title:"Follows"}];var nt={data(){return{currentPath:window.location.pathname+"/"}},computed:{currentView(){let e;if("//"===this.currentPath)return document.title="Homepage",fe;for(let t=0;t<st.length;t++){const s=st[t];this.currentPath.startsWith(s.path)&&(e=s["view"],document.title=s.title)}return"undefined"===typeof e?(document.title="Not Found",Ze):e}},components:{navbar:b},watch:{$route(e){let t=!1;if(this.currentPath=e.path+"/","//"!==this.currentPath){for(let e=0;e<st.length;e++){const s=st[e];this.currentPath.startsWith(s.path)&&(document.title=s.title,t=!0)}t||(document.title="Not Found")}else document.title="Homepage"}},async mounted(){let e=!1;"//"===this.currentPath&&(document.title="Homepage",e=!0);for(let t=0;t<st.length;t++){const s=st[t];this.currentPath.startsWith(s.path)&&(document.title=s.title,e=!0)}e||(document.title="Not Found")}};const at=(0,v.Z)(nt,[["render",l]]);var rt=at,ot=s(3494),it=s(7749),lt=s(8539);ot.vI.add(lt.u8Q);const ut=[{path:"/",component:fe},{path:"/login",component:ze},{path:"/write",component:Ee},{path:"/register",component:qe},{path:"/search",component:Ge},{path:"/user",component:tt},{path:"/follows",component:_}],ct=(0,a.p7)({history:(0,a.PO)(),routes:ut}),dt=(0,r.MT)({state(){return{isAuthenticated:!1,username:""}},mutations:{authenticate(e){e.isAuthenticated=!0},setUsername(e,t){e.username=t.username}},actions:{async fetchAuthentication({commit:e}){const t=await fetch("/api/social/whoami");if(t.ok){const s=await t;e("authenticate"),e("setUsername",{username:s.username})}}}}),mt=(0,n.ri)(rt);mt.use(ct),mt.use(dt),mt.component("font-awesome-icon",it.GN),dt.dispatch("fetchAuthentication"),mt.mount("#app")}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(r.exports,r,r.exports,s),r.loaded=!0,r.exports}s.m=e,function(){var e=[];s.O=function(t,n,a,r){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],a=e[c][1],r=e[c][2];for(var i=!0,l=0;l<n.length;l++)(!1&r||o>=r)&&Object.keys(s.O).every((function(e){return s.O[e](n[l])}))?n.splice(l--,1):(i=!1,r<o&&(o=r));if(i){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,a,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,r,o=n[0],i=n[1],l=n[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(a in i)s.o(i,a)&&(s.m[a]=i[a]);if(l)var c=l(s)}for(t&&t(n);u<o.length;u++)r=o[u],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(c)},n=self["webpackChunkpublic"]=self["webpackChunkpublic"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(4159)}));n=s.O(n)})();
//# sourceMappingURL=app.5d7b9744.js.map